{% extends 'my_account/account_base.html' %}
{% block account_content %}
  <div class="container my-5">
    <div class="card mb-4 text-center" style="background-color: rgba(231, 231, 231, 1)">
      <p class="mt-3">Create a new customer query. Our team typically responds within 48 hours, excluding weekends (Saturday and Sunday).</p>
    </div>
    <div class="bg-light border rounded p-4 shadow-sm mx-auto" style="max-width: 800px;">
      <h5 class="mb-4 fw-semibold">Submit your Query's</h5>

      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Subject Field -->
        <div class="mb-3">
          <label for="id_subject" class="form-label">
            Subject
            <small class="text-muted ms-2">(Max 100 characters)</small>
          </label>
          <input type="text" id="id_subject" name="subject" maxlength="100" class="form-control" required value="{{ form.subject.value|default:'' }}" />
          {% if form.subject.errors %}
            <div class="text-danger small mt-1">{{ form.subject.errors.0 }}</div>
          {% endif %}
        </div>

        <!-- Message Field -->
        <div class="mb-3">
          <label for="id_message" class="form-label">
            Message
            <small class="text-muted ms-2">(Max 5000 characters)</small>
          </label>
          <textarea id="id_message" name="message" rows="6" maxlength="5000" class="form-control" required>{{ form.message.value|default:'' }}</textarea>
          {% if form.message.errors %}
            <div class="text-danger small mt-1">{{ form.message.errors.0 }}</div>
          {% endif %}
        </div>

        <!-- File Upload -->
        <div class="mb-4">
          <label for="id_attachment" class="form-label">
            Attachment(s)
            <small class="text-muted ms-2">(Max size: 10MB)</small>
          </label>
          <input type="file" id="id_attachment" name="attachment" class="form-control" />
          {% if form.attachment.errors %}
            <div class="text-danger small mt-1">{{ form.attachment.errors.0 }}</div>
          {% endif %}
        </div>

        <button type="submit" class="btn btn-primary w-100">Submit Query</button>
      </form>
    </div>
  </div>
{% endblock %}
